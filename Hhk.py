#Encode By Sijann import base64
exec(base64.b64decode(b'aW1wb3J0IG9zLCBzeXMsIHJlLCByZXF1ZXN0cywgYnM0LCB0aW1lLCByYW5kb20sIGpzb24sIHN0cmluZwpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cyA+IC9kZXYvbnVsbCcpCnRyeToKICAgIGltcG9ydCBiczQKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQgKCdcbiBbw5ddIE1vZHVsIEJzNCBOb3QgaW5zdGFsbGVkIS4uLlxuJykKICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykKZGVmIGNvbnZlcnQoY29rKToKICAgIF9fZm9yID0gJ2RhdHI9JyArIGNva1snZGF0ciddICsgJzsnICsgKCdzYj0nICsgY29rWydzYiddKSArICc7JyArICgnZnI9JyArIGNva1snZnInXSkgKyAnOycgKyAoJ2NfdXNlcj0nICsgY29rWydjX3VzZXInXSkgKyAnOycgKyAoJ3hzPScgKyBjb2tbJ3hzJ10pCiAgICByZXR1cm4gX19mb3IKZGVmIGluYm94KHNlc3Npb24pOgogICAgdGltZS5zbGVlcCgxKQogICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICBfXyA9IHN0cih0aW1lLnRpbWUoKSkucmVwbGFjZSgnLicsICcnKVs6MTNdCiAgICBkYXRhID0gc2VzLmdldChmImh0dHBzOi8vMTBtaW51dGVtYWlsLm5ldC9hZGRyZXNzLmFwaS5waHA/c2Vzc2lvbmlkPXtzZXNzaW9ufSZfPXtzdHIoX18pfSIpLmpzb24oKQogICAgaWYgbGVuKGRhdGFbIm1haWxfbGlzdCJdKSAhPTE6CiAgICAgICAgYWRkcmVzcyA9IGRhdGFbIm1haWxfbGlzdCJdWzBdWyJzdWJqZWN0Il0KICAgICAgICBzZXNzaW9uID0gYWRkcmVzcy5yZXBsYWNlKCdGQi0nLCAnJykucmVwbGFjZSgnaXMgeW91ciBGYWNlYm9vayBjb25maXJtYXRpb24gY29kZScsICcnKQogICAgICAgIHJldHVybiBzZXNzaW9uCnVnZW4gPSBbXQpmb3IgeGQgaW4gcmFuZ2UoNTAwMCk6CiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJwogICAgYj1yYW5kb20uY2hvaWNlKFsnNScsJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInXSkKICAgIGlmIGIgaW4gWyc1JywgJzYnLCAnNycsICc4JywgJzknXToKICAgICAgICB6PXJhbmRvbS5jaG9pY2UoWycwJywgJzEnXSkKICAgICAgICBidj1iKycuJyt6KycuJyt6CiAgICBlbHNlOgogICAgICAgIGJ2PWIKICAgIEI9WydHVC0nLCAnU00tJ10KICAgIGM9cmFuZG9tLmNob2ljZShCKQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpCiAgICBmPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQogICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLycKICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApCiAgICBpPScwJwogICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkKICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApCiAgICBsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicKICAgIGFwcGxpY2F0aW9uX3ZlcnNpb24gPSBzdHIocmFuZG9tLnJhbmRpbnQoMTExLDM5NikpKycuMC4wLicrc3RyKHJhbmRvbS5yYW5kcmFuZ2UoMTAsNDkpKSsnLicrc3RyKHJhbmRvbS5yYW5kaW50KDExMSwzOTYpKQogICAgVj1zdHIocmFuZG9tLnJhbmRyYW5nZSgxMSw5OSkpCiAgICB1YXM9Zid7YWF9IHtidn07IHtjfXtkfXtlfXtmfSBCdWlsZC97ZH17Zn17Vn17Zn07IHd2KSB7Z317aH0ue2l9LntqfS57a30ge2x9JwogICAgdWdlbi5hcHBlbmQodWFzKQpsb2dvNCA9ICIiIgpceDFiWzE7OTcgICAgICAgIF9fX19fICAgICAgIF8gICAgIF9ceDFiWzE7OTcgICAgICAgICAKXHgxYlsxOzk3ICAgICAgLyAgX19ffCAgICAgKF8pICAgfCB8XHgxYlsxOzk3ICAgIApceDFiWzE7OTcgICAgICBcIGAtLS4gXyBfXyAgXyAgX198IHwgX19fIF8gX19ceDFiWzE7OTcKXHgxYlsxOzk3ICAgICAgIGAtLS4gXCAnXyBcfCB8LyBfYCB8LyBfIFwgJ19ffFx4MWJbMTs5NwpceDFiWzE7OTcgICAgICAvXF9fLyAvIHxfKSB8IHwgKF98IHwgIF9fLyB8XHgxYlsxOzk3Clx4MWJbMTs5NyAgICAgIFxfX19fL3wgLl9fL3xffFxfXyxffFxfX198X3xceDFiWzE7OTcKXHgxYlsxOzk3ICAgICAgICAgICAgfCB8ICAgICAgXHgxYlsxOzk3ICAgICAgICAgICAgICAgICAKXHgxYlsxOzk3ICAgICAgICAgICAgfF98XHgxYlsxOzk3CgpceDFiWzE7OTJtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBceDFiWzM4OzU7MTk2bVtcMDMzWzE7MzdtPVx4MWJbMzg7NTsxOTZtXQpceDFiWzE7OTdtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KXHgxYlszODs1OzE5Nm0tLS0+XHgxYlsxOzk3bSA6U2lqYW4geCBOaXNjaGFsIHggQW5rdXNoIApceDFiWzM4OzU7MTk2bS0tLT4gXHgxYlsxOzk3bTpPV04gQlJPVEhFUlMgClx4MWJbMzg7NTsxOTZtLS0tPiBceDFiWzE7OTdtOlNpamFuIHggTmlzY2hhbCB4IEFua3VzaCAKXHgxYlszODs1OzE5Nm0tLS0+IFx4MWJbMTs5N206UEFJRCAKXHgxYlswOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiIiCmJveSA9IFsnQWxpIEtoYW4nLCAnUnVzdGFtIEtoYW4nLCAnRmFpc2FsIEtoYW4nLCAnQWZ6YWwgS2hhbicsICdIYWlkZXIgS2hhbicsICdTdWxlbWFuIEtoYW4nLCAnTmFkZWVtIEtoYW4nLCAnTmF6ZWVyIE1hbGlrJywgJ05hemVlciBKdXR0JywgJ05hemVlciBSZWhtYW5pJywgJ1NhZmRhciBNYWxpaycsICdJbnR6YXIgS2hhbicsICdTYWxlZW0gTWFsaWsnLCAnQWJkdWxsYWggTWFsaWsnLCAnTmFzZWVyIEp1dHQnLCAnTXV6YW1taWwgTWFsaWsnLCAnRmlheiBBaG1hZCcsICdBc2doYXIgQWxpJywgJ1NoYWJlZXIgQWhtYWQnLCAnSXJmYW4gQWxpJywgJ0FobWFkIEd1amphciddCmdpcmwgPSBbJ1NhamlkYSBNYWxpaycsICdBeWVzaGEgS2hhbicsICdOYWJlZWxhIE1hbGlrJywgJ0tpbnphIEZhdGltYScsICdBcm9vaiBLaGFuJywgJ011c2thbiBLaGFuJywgJ0F5ZXNoYSBNYWxpaycsICdTYWZpbmEgTWFsaWsnLCAnTmlkYSBBbGknLCAnUmltc2hhIEFsaSddCm9rID0gW10KY3AgPSBbXQpkZWYgbWVudSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBwcmludCAobG9nbzQpCiAgICBwcmludCAoJyAgICAgICAgXDAzM1sxOzMybUgzcm8gU2lqYW4geCBOaXNjaGFsIHggQW5rdXNoIFx4MWJbMTs5N20nKQogICAgcHJpbnQgKDQ3KictJykKICAgIHByaW50ICgnXHgxYlszODs1OzE5Nm1bXHgxYlsxOzk3bTFceDFiWzM4OzU7MTk2bV0gXHgxYlsxOzk3bSBjcmVhdCcpCiAgICBwcmludCAoJ1x4MWJbMzg7NTsxOTZtW1x4MWJbMTs5N20yXHgxYlszODs1OzE5Nm1dIFx4MWJbMTs5N20gRmFjZWJvayBQcm9maWxlJykKICAgIHByaW50ICgnXHgxYlszODs1OzE5Nm1bXHgxYlsxOzk3bTNceDFiWzM4OzU7MTk2bV0gXHgxYlsxOzk3bSBUZWxlZ3JhbSBncm91cCcpCiAgICBwcmludCAoNDcqJy0nKQogICAgc2VsID0gaW5wdXQoJ1x4MWJbMzg7NTsxOTZtLS0tLT4gJykKICAgIGlmIHNlbCBpblsnMScsICcwMSddOgogICAgICAgIGNyZWF0ZSgpLnN0YXJ0KCkKICAgIGVsaWYgc2VsIGluIFsnMicsICcwMiddOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTYxNTY2Mzk1NTkyNTU0Jm1pYmV4dGlkPVpiV0t3TCcpCiAgICAgICAgbWVudSgpCiAgICBlbGlmIHNlbCBpbiBbJzMnLCAnMDMnXToKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vdC5tZS8rQm91R24zMWtjVGRqWlRKbCcpCiAgICAgICAgbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50ICgnXHgxYlszODs1OzE5Nm0tLS0+JykKICAgICAgICB0aW1lLnNsZWVwKDMpCiAgICAgICAgbWVudSgpCmNsYXNzIGNyZWF0ZToKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5sb29wID0gMAogICAgICAgIHNlbGYuZ2VuZGVyID0gW10KCiAgICBkZWYgc3RhcnQoc2VsZik6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgKGxvZ280KQogICAgICAgIHByaW50ICgnW1x4MWJbMzg7NTsxOTZtMVx4MWJbMTs5N21dIEJveXMgbmFtZSBpZHMnKQogICAgICAgIHByaW50ICgnW1x4MWJbMzg7NTsxOTZtMlx4MWJbMTs5N21dIGdpcmxzIG5hbWUgaWRzJykKICAgICAgICBwcmludCAoNDcqJy0nKQogICAgICAgIGdlbiA9IGlucHV0KCdceDFiWzM4OzU7MTk2bS0tLT4gJykKICAgICAgICBwcmludCAoNDcqJy0nKQogICAgICAgIGlmIGdlbiBpbiBbJzEnLCAnMDEnXToKICAgICAgICAgICAgc2VsZi5nZW5kZXIuYXBwZW5kKCdib3knKQogICAgICAgIGVsaWYgZ2VuIGluIFsnMicsICcwMiddOgogICAgICAgICAgICBzZWxmLmdlbmRlci5hcHBlbmQoJ2dpcmwnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuZ2VuZGVyLmFwcGVuZCgnYm95JykKICAgICAgICBwcmludCAoJ0V4YW1wbGUgMTAwMCwgMjAwMCwgNTAwMCwgMTAwMDAnKQogICAgICAgIGxpbSA9IGludChpbnB1dCgnbGltaXQ6ICcpKQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IChsb2dvNCkKICAgICAgICBhZ2VudCA9IHJhbmRvbS5jaG9pY2UodWdlbikKICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnYXV0aG9yaXR5JzogJ20uZmFjZWJvb2suY29tJywKICAgICAgICAgICAgJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44JywKICAgICAgICAgICAgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsCiAgICAgICAgICAgICdzZWMtY2gtdWEnOiAnIk5vdDpBLUJyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iMTEyIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtZnVsbC12ZXJzaW9uLWxpc3QnOiAnIk5vdDpBLUJyYW5kIjt2PSI5OS4wLjAuMCIsICJDaHJvbWl1bSI7dj0iMTEyLjAuNTYxNS4xMzciJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLAogICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0tdmVyc2lvbic6ICciMTEuMC4wIicsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywKICAgICAgICAgICAgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywKICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsCiAgICAgICAgICAgICd1c2VyLWFnZW50JzogYWdlbnQsCiAgICAgICAgICAgICd2aWV3cG9ydC13aWR0aCc6ICc5ODAnLAogICAgICAgIH0KICAgICAgICBoZWFkZXJzMSA9IHsKICAgICAgICAgICAgJ2F1dGhvcml0eSc6ICdtLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43JywKICAgICAgICAgICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCcsCiAgICAgICAgICAgICdzZWMtY2gtcHJlZmVycy1jb2xvci1zY2hlbWUnOiAnbGlnaHQnLAogICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJOb3Q6QS1CcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9IjExMiInLAogICAgICAgICAgICAnc2VjLWNoLXVhLWZ1bGwtdmVyc2lvbi1saXN0JzogJyJOb3Q6QS1CcmFuZCI7dj0iOTkuMC4wLjAiLCAiQ2hyb21pdW0iO3Y9IjExMi4wLjU2MTUuMTM3IicsCiAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywKICAgICAgICAgICAgJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLAogICAgICAgICAgICAnc2VjLWNoLXVhLXBsYXRmb3JtLXZlcnNpb24nOiAnIjExLjAuMCInLAogICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsCiAgICAgICAgICAgICdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLAogICAgICAgICAgICAndXNlci1hZ2VudCc6IGFnZW50LAogICAgICAgIH0KICAgICAgICBPTyA9ICdcMDMzWzA7OTdtJwogICAgICAgIGZvciB4IGluIHJhbmdlKGxpbSk6CiAgICAgICAgICAgIHNlbGYubG9vcCArPSAxCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcciB7T099XHgxYlsxOzk3bXRlYW0+PiE+Plx4MWJbMzg7NTsxOTZtc3BpZGVyXHgxYlsxOzk3bS1ceDFiWzE7OTdtbWFucyB7T099e3NlbGYubG9vcH0ve3N0cihsaW0pfSBPSzp7bGVuKG9rKX0gQ1A6e2xlbihjcCl9e09PfSAnKSwKICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgIGlmICdib3knIGluIHNlbGYuZ2VuZGVyOgogICAgICAgICAgICAgICAgbmFtZSA9IHJhbmRvbS5jaG9pY2UoYm95KS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICBzZXggPSAnMicKICAgICAgICAgICAgZWxpZiAnZ2lybCcgaW4gc2VsZi5nZW5kZXI6CiAgICAgICAgICAgICAgICBuYW1lID0gcmFuZG9tLmNob2ljZShnaXJsKS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICBzZXggPSAnMScKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgICAgICBidWlsZHNlcyA9IHVzZXIgPSAiIi5qb2luKHJhbmRvbS5TeXN0ZW1SYW5kb20oKS5jaG9pY2UoInF3ZXJ0eXVpb3Bhc2RmZ2hqa2x6eGN2Ym5tMDk4NzY1NDMyMSIpIGZvciBpIGluIHJhbmdlKDI2KSkKICAgICAgICAgICAgICAgIGNyZWF0ZSA9IHNlcy5nZXQoZiJodHRwczovLzEwbWludXRlbWFpbC5uZXQvYWRkcmVzcy5hcGkucGhwP25ldz0xJnNlc3Npb25pZD17YnVpbGRzZXN9Jl89e2ludChkYXRldGltZS5ub3coKS50aW1lc3RhbXAoKSAqIDEwMDApfSIpLmpzb24oKQogICAgICAgICAgICAgICAgbWFpbCA9IHsibWFpbCI6IGNyZWF0ZVsicGVybWFsaW5rIl1bIm1haWwiXSwgInNlc3Npb24iOiBjcmVhdGVbInNlc3Npb25faWQiXX0KICAgICAgICAgICAgICAgIGVtYWlsID0gbWFpbFsnbWFpbCddCiAgICAgICAgICAgICAgICBzZXNzaW9uID0gbWFpbFsnc2Vzc2lvbiddCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHBhc3N3ID0gbmFtZVswXStuYW1lWzFdK3N0cihyYW5kb20ucmFuZGludCgxMTEsOTk5KSkKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5zZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICAgICAgICAgIGEgPSBzZWxmLnNlcy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vcmVnP19mYl9ub3NjcmlwdCcsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgICAgIGxvZ2VyID0gcmUuc2VhcmNoKCduYW1lPSJsb2dnZXJfaWQiIHZhbHVlPSIoLio/KSInLCBzdHIoYS50ZXh0KSkuZ3JvdXAoMSkKICAgICAgICAgICAgICAgIHJlZiA9IEJlYXV0aWZ1bFNvdXAoYS50ZXh0LCAnaHRtbC5wYXJzZXInKS5maW5kKCdmb3JtJywgeydhY3Rpb24nOiBUcnVlLCAiaWQiOiJtb2JpbGUtcmVnLWZvcm0iLCAibWV0aG9kIjoicG9zdCJ9KQogICAgICAgICAgICAgICAgYmwgPSBbJ2xzZCcsICdqYXpvZXN0JywgJ2NwcCcsICdyZWdfaW5zdGFuY2UnLCAnc3VibWlzc2lvbl9yZXF1ZXN0J10KICAgICAgICAgICAgICAgIGJ6ID0gWydyZWdfaW1wcmVzc2lvbl9pZCcsICducyddCiAgICAgICAgICAgICAgICBzZWxmLmRhdGEgPSB7fQogICAgICAgICAgICAgICAgZm9yIHYgaW4gcmVmKCdpbnB1dCcpOgogICAgICAgICAgICAgICAgICAgIGlmIHYuZ2V0KCduYW1lJykgaW4gYmw6CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YS51cGRhdGUoe3YuZ2V0KCduYW1lJyk6di5nZXQoJ3ZhbHVlJyl9KQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICBzZWxmLmRhdGEudXBkYXRlKHsnaGVscGVyJzogJyd9KQogICAgICAgICAgICAgICAgZm9yIHYgaW4gcmVmKCdpbnB1dCcpOgogICAgICAgICAgICAgICAgICAgIGlmIHYuZ2V0KCduYW1lJykgaW4gYno6CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGF0YS51cGRhdGUoe3YuZ2V0KCduYW1lJyk6di5nZXQoJ3ZhbHVlJyl9KQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICBzZWxmLmRhdGEudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICAiemVyb19oZWFkZXJfYWZfY2xpZW50IjogIiIsCiAgICAgICAgICAgICAgICAgICAgImFwcF9pZCI6ICIxMDMiLAogICAgICAgICAgICAgICAgICAgICJsb2dnZXJfaWQiOiByZS5zZWFyY2goJ25hbWU9ImxvZ2dlcl9pZCIgdmFsdWU9IiguKj8pIicsIHN0cihhLnRleHQpKS5ncm91cCgxKSwKICAgICAgICAgICAgICAgICAgICAiZmllbGRfbmFtZXNbMF0iOiAiZmlyc3RuYW1lIiwKICAgICAgICAgICAgICAgICAgICAiZmlyc3RuYW1lIjogbmFtZVswXSwKICAgICAgICAgICAgICAgICAgICAibGFzdG5hbWUiOiBuYW1lWzFdLAogICAgICAgICAgICAgICAgICAgICJmaWVsZF9uYW1lc1sxXSI6ICJiaXJ0aGRheV93cmFwcGVyIiwKICAgICAgICAgICAgICAgICAgICAiYmlydGhkYXlfZGF5Ijogc3RyKHJhbmRvbS5yYW5kaW50KDEsMjgpKSwKICAgICAgICAgICAgICAgICAgICAiYmlydGhkYXlfbW9udGgiOiBzdHIocmFuZG9tLnJhbmRpbnQoMSwxMikpLAogICAgICAgICAgICAgICAgICAgICJiaXJ0aGRheV95ZWFyIjogc3RyKHJhbmRvbS5yYW5kaW50KDE5OTIsMjAwNCkpLAogICAgICAgICAgICAgICAgICAgICJhZ2Vfc3RlcF9pbnB1dCI6ICIiLAogICAgICAgICAgICAgICAgICAgICJkaWRfdXNlX2FnZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICJmaWVsZF9uYW1lc1syXSI6ICJyZWdfZW1haWxfXyIsCiAgICAgICAgICAgICAgICAgICAgInJlZ19lbWFpbF9fIjogZW1haWwsCiAgICAgICAgICAgICAgICAgICAgImZpZWxkX25hbWVzWzNdIjogInNleCIsCiAgICAgICAgICAgICAgICAgICAgInNleCI6IHNleCwKICAgICAgICAgICAgICAgICAgICAicHJlZmVycmVkX3Byb25vdW4iOiAiIiwKICAgICAgICAgICAgICAgICAgICAiY3VzdG9tX2dlbmRlciI6ICIiLAogICAgICAgICAgICAgICAgICAgICJmaWVsZF9uYW1lc1tdIjogInJlZ19wYXNzd2RfXyIsCiAgICAgICAgICAgICAgICAgICAgInJlZ19wYXNzd2RfXyI6IHBhc3N3LAogICAgICAgICAgICAgICAgICAgICJzdWJtaXQiOiAiU2lnbiBVcCIsCiAgICAgICAgICAgICAgICAgICAgIm5hbWVfc3VnZ2VzdF9lbGlnIjogImZhbHNlIiwKICAgICAgICAgICAgICAgICAgICAid2FzX3Nob3duX25hbWVfc3VnZ2VzdGlvbnMiOiAiZmFsc2UiLAogICAgICAgICAgICAgICAgICAgICJkaWRfdXNlX3N1Z2dlc3RlZF9uYW1lIjogImZhbHNlIiwKICAgICAgICAgICAgICAgICAgICAidXNlX2N1c3RvbV9nZW5kZXIiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiZ3VpZCI6ICIiLAogICAgICAgICAgICAgICAgICAgICJwcmVfZm9ybV9zdGVwIjogIiIsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgZ2V0dCA9IHNlbGYuc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nK3JlZlsnYWN0aW9uJ10sIGhlYWRlcnM9aGVhZGVyczEsIGRhdGE9c2VsZi5kYXRhKQogICAgICAgICAgICAgICAgZ2V0dHMgPSBzZWxmLnNlcy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvP2xvZ2luX3NvdXJjZT1hY2NvdW50X2NyZWF0aW9uJmxvZ2dlcl9pZD0nK2xvZ2VyKycmYXBwX2lkPTEwMycsIGhlYWRlcnM9aGVhZGVyczEpCiAgICAgICAgICAgICAgICBkYXRhMSA9IHt9CiAgICAgICAgICAgICAgICBkYXRhMiA9IHt9CiAgICAgICAgICAgICAgICBkYXRhMyA9IHt9CiAgICAgICAgICAgICAgICBjb2sgPSBzZWxmLnNlcy5jb29raWVzLmdldF9kaWN0KCkKICAgICAgICAgICAgICAgIGlmICdjaGVja3BvaW50JyBpbiBnZXR0cy51cmw6CiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKGVtYWlsK3Bhc3N3KQogICAgICAgICAgICAgICAgICAgIHByaW50ICgnXHJceDFiWzE7OTdtWyBTcGlkZXIgXSAnK2Nva1snY191c2VyJ10rJyB8ICcrcGFzc3crJ1wwMzNbMDs5N20gICAgICcpCiAgICAgICAgICAgICAgICBkYmwgPSBbJ2ZiX2R0c2cnLCAnamF6b2VzdCcsICdmbG93JywgJ25leHQnLCAnbnV4X3NvdXJjZSddCiAgICAgICAgICAgICAgICBmb3IgeCBpbiBCZWF1dGlmdWxTb3VwKGdldHRzLnRleHQsICdodG1sLnBhcnNlcicpLmZpbmRfYWxsKCdmb3JtJywgeydtZXRob2QnOiAncG9zdCd9KToKICAgICAgICAgICAgICAgICAgICBpZiAnL2xvZ2luL2RldmljZS1iYXNlZC91cGRhdGUtbm9uY2UvJyBpbiBzdHIoeCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB2IGluIHgoJ2lucHV0Jyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB2LmdldCgnbmFtZScpIGluIGRibDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExLnVwZGF0ZSh7di5nZXQoJ25hbWUnKTp2LmdldCgndmFsdWUnKX0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExLnVwZGF0ZSh7J3N1Ym1pdCc6ICdPSyd9KQogICAgICAgICAgICAgICAgICAgICAgICBwbyA9IHNlbGYuc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nK3guZ2V0KCdhY3Rpb24nKSwgaGVhZGVycz1oZWFkZXJzMSwgZGF0YT1kYXRhMSkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gQmVhdXRpZnVsU291cChwby50ZXh0LCAnaHRtbC5wYXJzZXInKS5maW5kX2FsbCgnZm9ybScsIHsnbWV0aG9kJzogJ3Bvc3QnfSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnY29uZmlybWF0aW9uX2V2ZW50X2xvY2F0aW9uPWNsaWZmJyBpbiBzdHIoeCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHYgaW4geCgnaW5wdXQnKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdi5nZXQoJ25hbWUnKSBpbiBkYmw6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTIudXBkYXRlKHt2LmdldCgnbmFtZScpOnYuZ2V0KCd2YWx1ZScpfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGluYm94KHNlc3Npb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTIudXBkYXRlKHsnYyc6IGNvZGUsICdzdWJtaXQnOiAnQ29uZmlybSd9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJleCA9IHNlbGYuc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nK3guZ2V0KCdhY3Rpb24nKSwgaGVhZGVycz1oZWFkZXJzMSwgZGF0YT1kYXRhMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnY2hlY2twb2ludCcgaW4gcmV4LnVybDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29rID0gc2VsZi5zZXMuY29va2llcy5nZXRfZGljdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZChlbWFpbCtwYXNzdykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdcclwwMzNbMTszM21bQ1BdICcrY29rWydjX3VzZXInXSsnIHwgJytwYXNzdysnXDAzM1swOzk3bSAgICAgJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2VsZi5zZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29rID0gc2VsZi5zZXMuY29va2llcy5nZXRfZGljdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnXHJcMDMzWzE7MzJtW09LXSAnK2Nva1snY191c2VyJ10rJyB8ICcrcGFzc3crJyB8ICcrY29raSsnXDAzM1swOzk3bSAgICAgJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2suYXBwZW5kKGVtYWlsK3Bhc3N3KQogICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBwcmludCAoJ3Byb2Nlc3MgaGFzIGJlZW4gY29tcGxldGVkJykKICAgICAgICBwcmludCAoNDcqJy0nKQogICAgICAgIHByaW50ICgnXDAzM1sxOzMybVRvdGFsIGlkcyA+IE9rLycgK3N0cihsZW4ob2spKSArICcgQ1AvJyArIHN0cihsZW4oY3ApKSkKICAgICAgICBwcmludCAoNDcqJy0nKQogICAgICAgIGlucHV0KCdiYWNrJykKICAgICAgICBtZW51KCkKbWVudSgpCg=='))